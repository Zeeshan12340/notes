# deobfuscation
`java -jar file.jar`

'BasicStringObfuscation' is the name of the jar file, even though the task is named Advanced String Obfuscation. This jar file will open with jd-gui, but has obviously been heavily obfuscated: for example, the first line starts with `if (paramArrayOfString.length >= ((int)1506594314L ^ 0x59CCCE0B)) {`, checking if there is 1 parameter, and it all goes down hill from there.

I tried a few de-obfuscation tools, without luck, so knuckled down. What I saw what there were strings stored within that were scrambled, unscrambled by a method named `1.a` which took two parameters: the first was an index into the scrambled string array (though doubled, e.g. '4' meant position 8 in the array) and the second parameter was part of the de-scrambling process. I identified several sets of params:

*   `2, 2` was the 'correct' message,
*   `3, 38` 'incorrect',
*   `4, 87` the default 'please supply a param' and
*   `0, 100` the password I was looking for, but it was wrapped by a method called `c`.

Well, sort of; `java -jar result.jar` would fail with `Error: Invalid or corrupt jarfile result.jar`, however `java -cp result.jar 0` (`0` is the class file containing `main`) would work.

`Krakatau`
----------

Example usage:

```text-plain
python Krakatau/disassemble.py -out temp RecordTest.class

python Krakatau/disassemble.py -out disassembled.zip -roundtrip r0lling-challenge.jar
```

You can either disassemble an individual classfile, a directory of classfiles, or an entire jar file. If the input filename ends in `.jar`, it will be treated as a jar file. To disassemble a directory recursively, pass the `-r` option.

I modified the instructions which used `iconst_4` (the specify a password msg) with `iconst_0` which had the string value and the program printed out the stored string but we still needed the xor fuction so we addedÂ 

```text-plain
L88:    invokestatic [15]
**L89:    invokestatic [30]** 
L91:    invokevirtual [48] 
```