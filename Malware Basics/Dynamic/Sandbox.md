# Sandbox
Construction of a sandbox
-------------------------

For malware analysis using sandboxes, the following considerations make the malware analysis effective:

*   Virtual Machine mimicking the actual target environment of the malware sample
*   Ability to take snapshots and revert to clean state
*   OS monitoring software, for example, Procmon, ProcExplorer or Regshot, etc.
*   Network monitoring software, for example, Wireshark, tcpdump, etc.
*   Control over the network through a dummy DNS server and webserver.
*   A mechanism to move analysis logs and malware samples in and out of the Virtual Machine without compromising the host (Be careful with this one. If you have a shared directory with your malware analysis VM that remains accessible when running malware, you might risk malware affecting all files in your shared directory)

Cuckoo Sandbox
--------------

[Cuckoo's sandbox](https://cuckoosandbox.org/) is the most widely known sandbox in the malware analysis community. It was developed as part of a Google Summer of Code project in 2010. It is an open-source project that you will often see deployed in SOC environments and with enthusiasts' home labs. Advantages of Cuckoo's sandbox include huge community support, easy-to-understand documentation, and lots of customizations. You can deploy it on your network and let the community signatures guide you into identifying which files are malicious and which are benign because of the vast corpus of community signatures that come with it.

Cuckoo's sandbox has been archived, and an update is pending. It also doesn't support Python 3, making it obsolete right now. However, all is not lost because we have alternatives.

### CAPE Sandbox

[CAPE Sandbox](https://github.com/kevoreilly/CAPEv2) is a little more advanced version of Cuckoo's sandbox. It supports debugging and memory dumping to support the unpacking of packed malware (We will learn more about packing and unpacking in the advanced malware analysis module). Though beginners can use this sandbox, advanced knowledge is required for making full use of it. A community version of this sandbox is available online, which can be used to test run it before installing. CAPE Sandbox is so far actively developed and supports Python 3.

Online Sandboxes:
-----------------

Setting up and maintaining a sandbox can be a time-consuming task. Keeping that in view, online sandboxes can be of great help. Some of the most commonly used online sandboxes are as follows:

*   [Online Cuckoo Sandbox](https://cuckoo.cert.ee/)
*   [Online CAPE Sandbox](https://www.capesandbox.com/)
*   [Any.run](https://any.run/)
*   [Intezer](https://analyze.intezer.com/)
*   [Hybrid Analysis](https://hybrid-analysis.com/)